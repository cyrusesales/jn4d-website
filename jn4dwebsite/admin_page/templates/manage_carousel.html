{% extends "admin_base.html" %} {% block title %}Manage Slide Photos{%endblock %}
{%block content %}
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
  crossorigin="anonymous"
></script>
<section class="section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-8 mt-4">
        {% for msg in messages %}
        <div
          class="alert alert-success alert-dismissible d-flex align-items-center fade show"
          role="alert"
        >
          <svg
            class="bi flex-shrink-0 me-2"
            role="img"
            aria-label="Success:"
            width="20"
            height="20"
          >
            <use xlink:href="#check-circle-fill" />
          </svg>
          <div>{{ msg }}</div>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="alert"
            aria-label="Close"
          ></button>
        </div>
        {% endfor %}
        <div class="card" style="width: 1000px;">
          <div class="card-header">
            <h2 class="fw-bold">Manage Slide Photos</h2>
          </div>
          <div class="card-body">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>Label</th>
                  <th>Caption</th>
                  <th>Image</th>
                  <th>Buttons</th>
                </tr>
              </thead>
              <tbody>
                {% for carousel in carousels %}
                <tr>
                  <td>{{ carousel.label }}</td>
                  <td>{{ carousel.caption }}</td>
                  {% if carousel.image %}
                  <td>
                    <img
                      src="{{ carousel.image.url }}"
                      alt=""
                      width="200"
                      height="50"
                    />
                  </td>
                  {% else %}
                  <td>
                    <p>No Image available</p>
                  </td>
                  {% endif %}
                  <td>
                    <a href="{% url 'edit-carousel' carousel.id %}" class="btn btn-success">Edit</a>
                    {% comment %} <a href="{% url "delete-carousel" carousel.id %}" class="btn btn-danger">Delete</a> {% endcomment %}
                    
                    <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#staticBackdrop-{{ carousel.id }}">
                    Delete
                    </button>
                    <!--Modal-->
                    <div class="modal fade" id="staticBackdrop-{{ carousel.id }}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel-{{ carousel.id }}" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h1 class="modal-title fs-5" id="staticBackdropLabel-{{ carousel.id }}">Delete</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <p>Are you sure you want to delete?</p>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <a href="{% url "delete-carousel" carousel.id %}" class="btn btn-danger">Delete</a>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
            <a href="{% url "add-carousel" %}" class="btn btn-primary">Add</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %}
